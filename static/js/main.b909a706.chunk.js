(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[5],{105:function(t,e,n){},106:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(34),o=n.n(a),u=n(13),i=n(18),s=n(70),b=n(9),j=n(36),l=n(27),d=n(47),f=function(t){return t.auth.isAuthenticated},O=function(t){return t.auth.user.name},p=n(2),h=function(t){var e=t.component,n=Object(d.a)(t,["component"]),c=Object(u.c)(f);return Object(p.jsx)(b.b,Object(l.a)(Object(l.a)({},n),{},{render:function(t){return c?Object(p.jsx)(e,Object(l.a)({},t)):Object(p.jsx)(b.a,{to:n.redirectTo})}}))},x=function(t){var e=t.component,n=Object(d.a)(t,["component"]),c=Object(u.c)(f);return Object(p.jsx)(b.b,Object(l.a)(Object(l.a)({},n),{},{render:function(t){return c&&n.restricted?Object(p.jsx)(b.a,{to:n.redirectTo}):Object(p.jsx)(e,Object(l.a)({},t))}}))},m=n(22),g=n(120),v=Object(m.a)({container:{marginTop:"20px",padding:"20px",width:"360px"}}),k=function(t){var e=t.children,n=v();return Object(p.jsx)(g.a,{elevation:6,className:n.container,children:e})},y={home:"/",register:"/register",contacts:"/contacts",login:"/login"},N=Object(m.a)({NavList:{display:"flex",flexDirection:"column",alignItems:"flex-end",marginBottom:0}}),C=function(){var t=N();return Object(p.jsx)("div",{children:Object(p.jsxs)("ul",{className:t.NavList,children:[Object(p.jsx)("li",{children:Object(p.jsx)(i.b,{exact:!0,to:y.login,className:"NavLink",activeClassName:"NavLink--active",children:"\u0412\u0445\u043e\u0434"})}),Object(p.jsx)("li",{children:Object(p.jsx)(i.b,{to:y.register,className:"NavLink",activeClassName:"NavLink--active",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]})})},w=Object(m.a)({NavList:{marginBottom:0}}),L=function(){var t=Object(u.c)(f),e=w();return Object(p.jsx)("nav",{children:Object(p.jsxs)("ul",{className:e.NavList,children:[Object(p.jsx)("li",{children:Object(p.jsx)(i.b,{exact:!0,to:y.home,className:"NavLink",activeClassName:"NavLink--active",children:"Home"})}),t&&Object(p.jsx)("li",{children:Object(p.jsx)(i.b,{to:y.contacts,className:"NavLink",activeClassName:"NavLink--active",children:"Phonebook"})})]})})},S=Object(m.a)({Container:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:10},Name:{}}),E=function(){var t=Object(u.c)(O),e=Object(u.b)(),n=S();return Object(p.jsxs)("div",{className:n.Container,children:[Object(p.jsxs)("span",{className:n.Name,children:["Welcome, ",t]}),Object(p.jsx)("button",{type:"button",onClick:function(){return e(Object(j.c)())},children:"Logout"})]})},R=Object(m.a)({Searchbar:{top:"0",left:"0",position:"sticky",zIndex:"1100",display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:"64px",marginBottom:"6px",paddingTop:"12px",paddingBottom:"12px",color:"#fff",backgroundColor:"#3f51b5",boxShadow:"0px 2px 4px -1px rgba(0, 0, 0, 0.2) 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)"},NavList:{marginBottom:0}}),z=function(){var t=Object(u.c)(f),e=R();return Object(p.jsxs)("header",{className:e.Searchbar,children:[Object(p.jsx)(L,{}),t?Object(p.jsx)(E,{}):Object(p.jsx)(C,{})]})},T=Object(c.lazy)((function(){return n.e(1).then(n.bind(null,173))})),q=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,174))})),A=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,175))})),B=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,177))}));var I,P,U,D,H,J,F=function(){var t=Object(u.b)();return Object(c.useEffect)((function(){t(Object(j.a)())}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(k,{children:[Object(p.jsx)(z,{}),Object(p.jsx)(c.Suspense,{fallback:Object(p.jsx)("p",{children:"Loading..."}),children:Object(p.jsxs)(b.d,{children:[Object(p.jsx)(b.b,{exact:!0,path:"/",component:T}),Object(p.jsx)(x,{path:"/register",restricted:!0,redirectTo:"/contacts",component:q}),Object(p.jsx)(x,{path:"/login",restricted:!0,redirectTo:"/contacts",component:A}),Object(p.jsx)(h,{path:"/contacts",redirectTo:"/login",component:B}),Object(p.jsx)(b.b,{component:T})]})})]})})},M=n(46),W=n(3),G=n(25),K=n(71),Q=n.n(K),V=n(4),X=n(11),Y=n(15),Z=Object(W.c)([],(I={},Object(V.a)(I,Y.i,(function(t,e){return e.payload})),Object(V.a)(I,Y.c,(function(t,e){return[].concat(Object(M.a)(t),[e.payload])})),Object(V.a)(I,Y.f,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),I)),$=Object(W.c)(!1,(P={},Object(V.a)(P,Y.h,(function(){return!0})),Object(V.a)(P,Y.i,(function(){return!1})),Object(V.a)(P,Y.g,(function(){return!1})),Object(V.a)(P,Y.b,(function(){return!0})),Object(V.a)(P,Y.c,(function(){return!1})),Object(V.a)(P,Y.a,(function(){return!1})),Object(V.a)(P,Y.e,(function(){return!0})),Object(V.a)(P,Y.f,(function(){return!1})),Object(V.a)(P,Y.d,(function(){return!1})),P)),_=Object(W.c)("",Object(V.a)({},Y.j,(function(t,e){return e.payload}))),tt=Object(X.c)({items:Z,filter:_,loading:$}),et=n(5),nt={name:null,email:null,isAuthenticated:!1},ct=Object(W.c)(nt,(U={},Object(V.a)(U,et.l,(function(t,e){return e.payload.user})),Object(V.a)(U,et.f,(function(t,e){return e.payload.user})),Object(V.a)(U,et.i,(function(){return nt})),Object(V.a)(U,et.c,(function(t,e){return e.payload})),U)),rt=Object(W.c)(null,(D={},Object(V.a)(D,et.l,(function(t,e){return e.payload.token})),Object(V.a)(D,et.f,(function(t,e){return e.payload.token})),Object(V.a)(D,et.i,(function(){return null})),D)),at=Object(W.c)(null,(H={},Object(V.a)(H,et.j,(function(t,e){return e.payload})),Object(V.a)(H,et.d,(function(t,e){return e.payload})),Object(V.a)(H,et.g,(function(t,e){return e.payload})),Object(V.a)(H,et.a,(function(t,e){return e.payload})),H)),ot=Object(W.c)(nt.isAuthenticated,(J={},Object(V.a)(J,et.l,(function(){return!0})),Object(V.a)(J,et.f,(function(){return!0})),Object(V.a)(J,et.c,(function(){return!0})),Object(V.a)(J,et.j,(function(){return!1})),Object(V.a)(J,et.d,(function(){return!1})),Object(V.a)(J,et.a,(function(){return!1})),Object(V.a)(J,et.i,(function(){return!1})),J)),ut=Object(X.c)({user:ct,token:rt,error:at,isAuthenticated:ot}),it=Object(M.a)(Object(W.d)({serializableCheck:{ignoredActions:[G.a,G.f,G.b,G.c,G.d,G.e]}})),st={key:"auth",storage:Q.a,whitelist:["token"]},bt=Object(W.a)({reducer:{auth:Object(G.g)(st,ut),contacts:tt},middleware:it,devTools:!1}),jt={store:bt,persistor:Object(G.h)(bt)};n(105);o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(u.a,{store:jt.store,children:Object(p.jsx)(s.a,{loading:null,persistor:jt.persistor,children:Object(p.jsx)(i.a,{children:Object(p.jsx)(F,{})})})})}),document.getElementById("root"))},15:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return l})),n.d(e,"j",(function(){return d}));var c=n(3),r=Object(c.b)("contacts/fetchContactRequest"),a=Object(c.b)("contacts/fetchContactSuccess"),o=Object(c.b)("contacts/fetchContactError"),u=Object(c.b)("contacts/addContactRequest"),i=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/deleteRequest"),j=Object(c.b)("contacts/deleteSuccess"),l=Object(c.b)("contacts/deleteError"),d=Object(c.b)("contacts/filter")},36:function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return f}));var c=n(24),r=n.n(c),a=n(31),o=n(26),u=n.n(o),i=n(5);u.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var s=function(t){u.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){u.a.defaults.headers.common.Authorization=""},j=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(i.k()),e.prev=1,e.next=4,u.a.post("/users/signup",t);case 4:c=e.sent,s(c.data.token),n(i.l(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(i.j(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},l=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(i.e()),e.prev=1,e.next=4,u.a.post("/users/login",t);case 4:c=e.sent,s(c.data.token),n(i.f(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(i.d(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(i.h()),t.prev=1,t.next=4,u.a.post("/users/logout");case 4:b(),e(i.i()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(i.g(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),a=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return s(a),e(i.b()),t.prev=5,t.next=8,u.a.get("/users/current");case 8:o=t.sent,e(i.c(o.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(i.a(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},5:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return o})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return O}));var c=n(3),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),o=Object(c.b)("auth/registerError"),u=Object(c.b)("auth/loginRequest"),i=Object(c.b)("auth/loginSuccess"),s=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),j=Object(c.b)("auth/logoutSuccess"),l=Object(c.b)("auth/logoutError"),d=Object(c.b)("auth/getCurrentUserRequest"),f=Object(c.b)("auth/getCurrentUserSuccess"),O=Object(c.b)("auth/getCurrentUserError")}},[[106,6,7]]]);
//# sourceMappingURL=main.b909a706.chunk.js.map