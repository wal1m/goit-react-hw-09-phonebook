{"version":3,"sources":["redux/auth/auth-selectors.js","components/PrivateRoute.js","components/PublicRoute.js","components/Container/Container.jsx","routes.js","components/AuthNav/AuthNav.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","App.js","redux/contacts/contacts-reducer.js","redux/auth/auth-reducer.js","redux/store.js","index.js","redux/contacts/contacts-actions.js","redux/auth/auth-operations.js","redux/auth/auth-actions.js"],"names":["getAuthenticated","state","auth","isAuthenticated","getUsername","user","name","PrivateRoute","Component","component","routeProps","useSelector","render","props","to","redirectTo","PublicRoute","restricted","useStyles","createUseStyles","container","marginTop","padding","width","Container","children","classes","Paper","elevation","className","routes","home","register","contacts","login","NavList","display","flexDirection","alignItems","marginBottom","AuthNav","exact","activeClassName","Navigation","paddingRight","Name","UserMenu","dispatch","useDispatch","type","onClick","logOut","Searchbar","top","left","position","zIndex","justifyContent","minHeight","paddingTop","paddingBottom","color","backgroundColor","boxShadow","AppBar","Home","lazy","RegisterView","LoginView","PhonebookView","App","useEffect","getCurrentUser","fallback","path","items","createReducer","fetchContactSuccess","_","payload","addContactSuccess","action","deleteContactSuccess","filter","contact","id","loading","fetchContactRequest","fetchContactError","addContactRequest","addContactError","deleteContactRequest","deleteContactError","filterContacts","combineReducers","initialUserState","email","registerSuccess","loginSuccess","logoutSuccess","getCurrentUserSuccess","token","error","registerError","loginError","logoutError","getCurrentUserError","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contactReducer","devTools","process","persistor","persistStore","ReactDOM","StrictMode","document","getElementById","createAction","axios","defaults","baseURL","headers","common","Authorization","credentials","a","authActions","post","response","data","message","logIn","getState","persistedToken","get","registerRequest","loginRequest","logoutRequest","getCurrentUserRequest"],"mappings":"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","file":"static/js/main.b909a706.chunk.js","sourcesContent":["export const getAuthenticated = state => state.auth.isAuthenticated;\r\nexport const getUsername = state => state.auth.user.name;","import { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { getAuthenticated } from '../redux/auth/auth-selectors';\r\n\r\nconst PrivateRoute = ({ component: Component, ...routeProps }) => {\r\n  const isAuthenticated = useSelector(getAuthenticated);\r\n\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={props =>\r\n        isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={routeProps.redirectTo} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n\r\n// import React from 'react';\r\n// import { Route, Redirect } from 'react-router-dom';\r\n// import { connect } from 'react-redux';\r\n// import { authSelectors } from '../redux/auth';\r\n\r\n// /**\r\n//  * - Если маршрут приватный и пользователь залогинен, рендерит компонент\r\n//  * - В противном случае рендерит Redirect на /login\r\n//  */\r\n// const PrivateRoute = ({\r\n//   component: Component,\r\n//   isAuthenticated,\r\n//   redirectTo,\r\n//   redirectTo,\r\n//   ...routeProps\r\n// }) => (\r\n//   <Route\r\n//     {...routeProps}\r\n//     render={props =>\r\n//       isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n//     }\r\n//   />\r\n// );\r\n\r\n// const mapStateToProps = state => ({\r\n//   isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n// });\r\n\r\n// export default connect(mapStateToProps)(PrivateRoute);\r\n","import { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { getAuthenticated } from '../redux/auth/auth-selectors';\r\n\r\nconst PublicRoute = ({ component: Component, ...routeProps }) => {\r\n  const isAuthenticated = useSelector(getAuthenticated);\r\n\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={props =>\r\n        isAuthenticated && routeProps.restricted ? (\r\n          <Redirect to={routeProps.redirectTo} />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PublicRoute;\r\n","import { createUseStyles } from \"react-jss\";\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst useStyles = createUseStyles({\r\n  container: {\r\n    marginTop: \"20px\",\r\n    padding: \"20px\",\r\n    width: \"360px\",\r\n  },\r\n});\r\n\r\n\r\nconst Container = ({ children }) => {\r\n  const classes = useStyles();\r\n\r\n  return <Paper elevation={6} className={classes.container}>{children}</Paper>;\r\n};\r\n\r\nexport default Container;\r\n","const routes = {\r\n  home: '/',\r\n  register: '/register',\r\n  contacts: '/contacts',\r\n  login: '/login',\r\n};\r\nexport default routes;","import { NavLink } from 'react-router-dom';\r\nimport routes from '../../routes';\r\nimport { createUseStyles } from 'react-jss';\r\n\r\nconst useStyles = createUseStyles({\r\n  NavList: {\r\n    // display: \"flex\",\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-end',\r\n    marginBottom: 0,\r\n  },\r\n});\r\n\r\nconst AuthNav = () => {\r\n\r\n const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <ul className={classes.NavList}>\r\n        <li>\r\n          <NavLink\r\n            exact\r\n            to={routes.login}\r\n            className=\"NavLink\"\r\n            activeClassName=\"NavLink--active\"\r\n          >\r\n            Вход\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink\r\n            to={routes.register}\r\n            className=\"NavLink\"\r\n            activeClassName=\"NavLink--active\"\r\n          >\r\n            Регистрация\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthNav;\r\n","import { NavLink } from 'react-router-dom';\r\nimport routes from '../../routes';\r\nimport { useSelector } from 'react-redux';\r\nimport { getAuthenticated } from '../../redux/auth/auth-selectors';\r\n\r\nimport { createUseStyles } from 'react-jss';\r\n\r\nconst useStyles = createUseStyles({\r\n  NavList: {\r\n    // display: \"flex\",\r\n    marginBottom: 0,\r\n  },\r\n});\r\n\r\nconst Navigation = () => {\r\n  const isAuthenticated = useSelector(getAuthenticated);\r\n  const classes = useStyles();\r\n  return (\r\n    <nav>\r\n      <ul className={classes.NavList}>\r\n        <li>\r\n          <NavLink\r\n            exact\r\n            to={routes.home}\r\n            className=\"NavLink\"\r\n            activeClassName=\"NavLink--active\"\r\n          >\r\n            Home\r\n          </NavLink>\r\n        </li>\r\n        {isAuthenticated && (\r\n          <li>\r\n            <NavLink\r\n              to={routes.contacts}\r\n              className=\"NavLink\"\r\n              activeClassName=\"NavLink--active\"\r\n            >\r\n              Phonebook\r\n            </NavLink>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { useSelector, useDispatch } from 'react-redux';\r\nimport { createUseStyles } from 'react-jss';\r\nimport { getUsername } from '../../redux/auth/auth-selectors';\r\nimport { logOut } from '../../redux/auth/auth-operations';\r\n\r\nconst useStyles = createUseStyles({\r\n  Container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    paddingRight: 10,\r\n  },\r\n\r\n  Name: {\r\n    // fontWeight: 700,\r\n    // marginRight: 12,\r\n  },\r\n});\r\n\r\nconst UserMenu = () => {\r\n  const name = useSelector(getUsername);\r\n  const dispatch = useDispatch();\r\n  const onLogout = () =>  dispatch(logOut());\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.Container}>\r\n      {/* <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} /> */}\r\n      <span className={classes.Name}>Welcome, {name}</span>\r\n        <button type=\"button\" onClick={onLogout}>\r\n        Logout\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserMenu;\r\n","import { NavLink } from 'react-router-dom';\r\nimport routes from '../../routes';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport AuthNav from '../AuthNav/AuthNav';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport UserMenu from '../UserMenu/UserMenu';\r\nimport {getAuthenticated} from '../../redux/auth/auth-selectors'\r\n\r\nimport { createUseStyles } from 'react-jss';\r\n\r\nconst useStyles = createUseStyles({\r\n  Searchbar: {\r\n    top: '0',\r\n    left: '0',\r\n    position: 'sticky',\r\n    zIndex: '1100',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    minHeight: '64px',\r\n    marginBottom: '6px',\r\n    // paddingRight: \"24px\",\r\n    // paddingLeft: \"24px\",\r\n    paddingTop: '12px',\r\n    paddingBottom: '12px',\r\n    color: '#fff',\r\n    backgroundColor: '#3f51b5',\r\n    boxShadow:\r\n      '0px 2px 4px -1px rgba(0, 0, 0, 0.2) 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)',\r\n  },\r\n\r\n  NavList: {\r\n    // display: \"flex\",\r\n    marginBottom: 0,\r\n  },\r\n});\r\nconst AppBar = () => {\r\n  const isAuthenticated = useSelector(getAuthenticated);\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <header className={classes.Searchbar}>\r\n      <Navigation />\r\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n      {/* {false ? <UserMenu /> : <AuthNav />} */}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default AppBar;\r\n","import { Route, Switch } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { useEffect, Suspense, lazy } from 'react';\nimport { getCurrentUser } from './redux/auth/auth-operations';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\n\nimport Container from './components/Container/Container';\nimport AppBar from './components/AppBar/AppBar';\n// import Home from './views/HomeView';\n// import RegisterView from './views/RegisterView';\n// import LoginView from './views/LoginView';\n// import PhonebookView from './views/PhonebookView';\n\nconst Home = lazy(() =>\n  import('./views/HomeView' /* webpackChunkName: \"HomeView\" */),\n);\nconst RegisterView = lazy(() =>\n  import('./views/RegisterView' /* webpackChunkName: \"RegisterView\" */),\n);\nconst LoginView = lazy(() =>\n  import('./views/LoginView' /* webpackChunkName: \"LoginView\" */),\n);\nconst PhonebookView = lazy(() =>\n  import('./views/PhonebookView' /* webpackChunkName: \"PhonebookView\" */),\n);\n\n\nfunction App() {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getCurrentUser());\n  }, []);\n\n  return (\n    <>\n      <Container>\n        <AppBar />\n        <Suspense fallback={<p>Loading...</p>}>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <PublicRoute\n              path=\"/register\"\n              restricted\n              redirectTo=\"/contacts\"\n              component={RegisterView}\n            />\n            <PublicRoute\n              path=\"/login\"\n              restricted\n              redirectTo=\"/contacts\"\n              component={LoginView}\n            />\n            <PrivateRoute\n              path=\"/contacts\"\n              redirectTo=\"/login\"\n              component={PhonebookView}\n            />\n            <Route component={Home} />\n          </Switch>\n        </Suspense>\n      </Container>\n    </>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\n// import { addContactSuccess } from './contacts-operations';\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  fetchContactError,\r\n  filterContacts,\r\n} from './contacts-actions';\r\n\r\nconst initialState = [\r\n  // { id: 'id-1', name: 'Rosie Simpson', number: '459-12-56' },\r\n  // { id: 'id-2', name: 'Hermione Kline', number: '443-89-12' },\r\n  // { id: 'id-3', name: 'Eden Clements', number: '645-17-79' },\r\n  // { id: 'id-4', name: 'Annie Copeland', number: '227-91-26' },\r\n];\r\n\r\nconst items = createReducer(initialState, {\r\n  [fetchContactSuccess]: (_, { payload }) => payload,\r\n\r\n  [addContactSuccess]: (state, action) => [...state, action.payload],\r\n  [deleteContactSuccess]: (state, action) =>\r\n    state.filter(contact => contact.id !== action.payload),\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactRequest]: () => true,\r\n  [fetchContactSuccess]: () => false,\r\n  [fetchContactError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [filterContacts]: (_, action) => action.payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n});\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n} from './auth-actions';\r\n\r\nconst initialUserState = {\r\n  name: null,\r\n  email: null,\r\n  isAuthenticated: false,\r\n};\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [registerSuccess]: (_, { payload }) => payload.user,\r\n  [loginSuccess]: (_, { payload }) => payload.user,\r\n  [logoutSuccess]: () => initialUserState,\r\n  [getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [registerSuccess]: (_, { payload }) => payload.token,\r\n  [loginSuccess]: (_, { payload }) => payload.token,\r\n  [logoutSuccess]: () => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [registerError]: (_, { payload }) => payload,\r\n  [loginError]: (_, { payload }) => payload,\r\n  [logoutError]: (_, { payload }) => payload,\r\n  [getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isAuthenticated = createReducer(initialUserState.isAuthenticated, {\r\n  [registerSuccess]: () => true,\r\n  [loginSuccess]: () => true,\r\n  [getCurrentUserSuccess]: () => true,\r\n  [registerError]: () => false,\r\n  [loginError]: () => false,\r\n  [getCurrentUserError]: () => false,\r\n  [logoutSuccess]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  token,\r\n  error,\r\n  isAuthenticated,\r\n});\r\n","// import { combineReducers } from 'redux';\r\nimport { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\n// import { composeWithDevTools } from 'redux-devtools-extension';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\n// import persistReducer from 'redux-persist/es/persistReducer';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport contactReducer from './contacts/contacts-reducer';\r\nimport authReducer from './auth/auth-reducer';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: contactReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n// export default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\n// import \"./index.css\";\nimport App from './App';\nimport store from './redux/store';\n// import reportWebVitals from \"./reportWebVitals\";\nimport './styles/base.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\r\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\r\nexport const fetchContactError = createAction('contacts/fetchContactError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction('contacts/deleteRequest');\r\nexport const deleteContactSuccess = createAction('contacts/deleteSuccess');\r\nexport const deleteContactError = createAction('contacts/deleteError');\r\n\r\n\r\nexport const filterContacts = createAction('contacts/filter');\r\n","import axios from 'axios';\r\nimport * as authActions from './auth-actions';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = ``;\r\n  },\r\n};\r\n\r\nexport const register = credentials => async dispatch => {\r\n  dispatch(authActions.registerRequest());\r\n\r\n  try {\r\n    const response = await axios.post('/users/signup', credentials);\r\n\r\n    token.set(response.data.token);\r\n    // console.log(response.data);\r\n    dispatch(authActions.registerSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.registerError(error.message));\r\n  }\r\n};\r\n\r\nexport const logIn = credentials => async dispatch => {\r\n  dispatch(authActions.loginRequest());\r\n\r\n  try {\r\n    const response = await axios.post('/users/login', credentials);\r\n    token.set(response.data.token);\r\n    // console.log(response.data);\r\n    dispatch(authActions.loginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.loginError(error.message));\r\n  }\r\n};\r\n\r\nexport const logOut = () => async dispatch => {\r\n  dispatch(authActions.logoutRequest());\r\n\r\n  try {\r\n    await axios.post('/users/logout');\r\n    token.unset();\r\n    dispatch(authActions.logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(authActions.logoutError(error.message));\r\n  }\r\n};\r\n\r\nexport const getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n  token.set(persistedToken);\r\n\r\n  dispatch(authActions.getCurrentUserRequest());\r\n\r\n  try {\r\n    const response = await axios.get('/users/current');\r\n    dispatch(authActions.getCurrentUserSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.getCurrentUserError(error.message));\r\n  }\r\n};\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const registerRequest = createAction('auth/registerRequest');\r\nexport const registerSuccess = createAction('auth/registerSuccess');\r\nexport const registerError = createAction('auth/registerError');\r\n\r\nexport const loginRequest = createAction('auth/loginRequest');\r\nexport const loginSuccess = createAction('auth/loginSuccess');\r\nexport const loginError = createAction('auth/loginError');\r\n\r\nexport const logoutRequest = createAction('auth/logoutRequest');\r\nexport const logoutSuccess = createAction('auth/logoutSuccess');\r\nexport const logoutError = createAction('auth/logoutError');\r\n\r\nexport const getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nexport const getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nexport const getCurrentUserError = createAction('auth/getCurrentUserError');\r\n"],"sourceRoot":""}